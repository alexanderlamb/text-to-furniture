{
  "version": "1.0.0",
  "mesh_path": "models/table_test.stl",
  "timestamp": "2026-02-11T23:21:25.625457+00:00",
  "config_snapshot": {
    "max_slabs": 20,
    "coverage_target": 0.8,
    "min_coverage_contribution": 0.001,
    "voxel_resolution_mm": 5.0,
    "dfm_check": false,
    "default_material": "plywood_baltic_birch",
    "target_height_mm": 700.0,
    "joint_proximity_mm": 25.0,
    "pose_alignment_fix": true
  },
  "mesh_faces": 60,
  "mesh_extents_mm": [
    800.0,
    500.0,
    700.0
  ],
  "candidate_generation": {
    "total": 25,
    "by_source": {
      "ransac": 6
    },
    "after_dedupe": 25
  },
  "selection_trace": [
    {
      "iteration": 1,
      "candidate_index": 1,
      "source": "ransac",
      "width_mm": 500.0,
      "height_mm": 800.0,
      "thickness_mm": 9.524999999999999,
      "new_voxels": 16259,
      "coverage_after": 0.3165569876562439,
      "dfm_rejected": false
    },
    {
      "iteration": 2,
      "candidate_index": 0,
      "source": "ransac",
      "width_mm": 500.0,
      "height_mm": 800.0,
      "thickness_mm": 9.524999999999999,
      "new_voxels": 15804,
      "coverage_after": 0.6242552860091118,
      "dfm_rejected": false
    },
    {
      "iteration": 3,
      "candidate_index": 2,
      "source": "ransac",
      "width_mm": 800.0,
      "height_mm": 700.0,
      "thickness_mm": 9.524999999999999,
      "new_voxels": 2988,
      "coverage_after": 0.6824305907090845,
      "dfm_rejected": false
    },
    {
      "iteration": 4,
      "candidate_index": 4,
      "source": "ransac",
      "width_mm": 500.0,
      "height_mm": 700.0,
      "thickness_mm": 9.524999999999999,
      "new_voxels": 2582,
      "coverage_after": 0.7327012187998909,
      "dfm_rejected": false
    },
    {
      "iteration": 5,
      "candidate_index": 6,
      "source": "ransac",
      "width_mm": 500.0,
      "height_mm": 680.0,
      "thickness_mm": 9.524999999999999,
      "new_voxels": 2578,
      "coverage_after": 0.782893968303415,
      "dfm_rejected": false
    },
    {
      "iteration": 6,
      "candidate_index": 5,
      "source": "ransac",
      "width_mm": 500.0,
      "height_mm": 700.0,
      "thickness_mm": 9.524999999999999,
      "new_voxels": 2164,
      "coverage_after": 0.8250262840232078,
      "dfm_rejected": false
    }
  ],
  "selection_stop_reason": "coverage_target_met",
  "parts": [
    {
      "name": "part_0",
      "width_mm": 500.0,
      "height_mm": 800.0,
      "thickness_mm": 9.524999999999999,
      "material": "plywood_baltic_birch",
      "dfm_violations": [
        {
          "rule_name": "sheet_size_height",
          "severity": "error",
          "message": "Part height 800.0mm exceeds sheet height 762.0mm",
          "value": 800.0,
          "limit": 762.0
        }
      ],
      "component_type": "shelf",
      "position": [
        0.0,
        0.0,
        700.0
      ]
    },
    {
      "name": "part_1",
      "width_mm": 500.0,
      "height_mm": 800.0,
      "thickness_mm": 9.524999999999999,
      "material": "plywood_baltic_birch",
      "dfm_violations": [
        {
          "rule_name": "sheet_size_height",
          "severity": "error",
          "message": "Part height 800.0mm exceeds sheet height 762.0mm",
          "value": 800.0,
          "limit": 762.0
        }
      ],
      "component_type": "shelf",
      "position": [
        0.0,
        0.0,
        680.0
      ]
    },
    {
      "name": "part_2",
      "width_mm": 800.0,
      "height_mm": 700.0,
      "thickness_mm": 9.524999999999999,
      "material": "plywood_baltic_birch",
      "dfm_violations": [
        {
          "rule_name": "sheet_size_width",
          "severity": "error",
          "message": "Part width 800.0mm exceeds sheet width 609.6mm",
          "value": 800.0,
          "limit": 609.6
        },
        {
          "rule_name": "bridge_width",
          "severity": "error",
          "message": "Cutout 0 is 0.00mm from edge (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "error",
          "message": "Cutout 15 is 0.00mm from edge (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        }
      ],
      "component_type": "panel",
      "position": [
        0.0,
        242.27272727272728,
        350.0
      ]
    },
    {
      "name": "part_3",
      "width_mm": 500.0,
      "height_mm": 700.0,
      "thickness_mm": 9.524999999999999,
      "material": "plywood_baltic_birch",
      "dfm_violations": [
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 0 and 8 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 1 and 9 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 2 and 10 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 3 and 11 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 4 and 12 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 5 and 13 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 6 and 14 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 7 and 15 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        }
      ],
      "component_type": "panel",
      "position": [
        391.5527950310559,
        0.0,
        350.0
      ]
    },
    {
      "name": "part_4",
      "width_mm": 500.0,
      "height_mm": 680.0,
      "thickness_mm": 9.524999999999999,
      "material": "plywood_baltic_birch",
      "dfm_violations": [
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutout 24 is 1.75mm from edge (min 3.17mm)",
          "value": 1.75,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutout 25 is 1.75mm from edge (min 3.17mm)",
          "value": 1.75,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutout 26 is 1.75mm from edge (min 3.17mm)",
          "value": 1.75,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 0 and 8 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 1 and 9 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 2 and 10 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 3 and 11 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 4 and 12 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 5 and 13 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 6 and 14 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 7 and 15 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        }
      ],
      "component_type": "panel",
      "position": [
        -350.0,
        0.0,
        340.0
      ]
    },
    {
      "name": "part_5",
      "width_mm": 500.0,
      "height_mm": 700.0,
      "thickness_mm": 9.524999999999999,
      "material": "plywood_baltic_birch",
      "dfm_violations": [
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 0 and 8 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 1 and 9 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 2 and 10 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 3 and 11 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 4 and 12 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 5 and 13 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 6 and 14 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        },
        {
          "rule_name": "bridge_width",
          "severity": "warning",
          "message": "Cutouts 7 and 15 are 0.00mm apart (min 3.17mm)",
          "value": 0.0,
          "limit": 3.175
        }
      ],
      "component_type": "panel",
      "position": [
        -391.5527950310559,
        0.0,
        349.99999999999994
      ]
    }
  ],
  "scores": {
    "hausdorff_mm": 369.47603809309794,
    "mean_distance_mm": 152.11037828993926,
    "part_count": 6,
    "dfm_violations_error": 5,
    "dfm_violations_warning": 27,
    "structural_plausibility": 1.0,
    "overall_score": 0.33999999999999997,
    "coverage_fraction": 0.8250262840232078,
    "fit_ratios": [
      0.9788819875776398,
      0.48454545454545456,
      0.5142857142857142
    ]
  },
  "simulation": {
    "stable": true,
    "position_change": 4.852102921713506e-06,
    "rotation_change": 8.881492093704591e-06,
    "height_drop": 0.014774065576797283,
    "fell_over": false,
    "touched_ground": false,
    "simulation_time": 3.0,
    "wall_time": 0.08887219429016113,
    "load_test_passed": true,
    "load_final_height": 0.0
  },
  "quality_gates": [
    {
      "name": "coverage",
      "status": "pass",
      "metric_value": 0.8250262840232078,
      "threshold_pass": 0.7,
      "threshold_fail": 0.5,
      "message": "Surface coverage 82.5%",
      "recommendations": []
    },
    {
      "name": "part_count",
      "status": "pass",
      "metric_value": 6.0,
      "threshold_pass": 15.0,
      "threshold_fail": 20.0,
      "message": "6 parts selected",
      "recommendations": []
    },
    {
      "name": "hausdorff",
      "status": "fail",
      "metric_value": 369.47603809309794,
      "threshold_pass": 30.0,
      "threshold_fail": 60.0,
      "message": "Hausdorff distance 369.5 mm",
      "recommendations": [
        "High hausdorff distance: missing surface coverage",
        "Add candidate sources or lower area threshold"
      ]
    },
    {
      "name": "dfm_errors",
      "status": "fail",
      "metric_value": 5.0,
      "threshold_pass": 0.0,
      "threshold_fail": 3.0,
      "message": "5 DFM errors",
      "recommendations": [
        "DFM error on part_0: Part height 800.0mm exceeds sheet height 762.0mm",
        "DFM error on part_2: Part width 800.0mm exceeds sheet width 609.6mm",
        "DFM error on part_2: Cutout 0 is 0.00mm from edge (min 3.17mm)"
      ]
    },
    {
      "name": "structural",
      "status": "pass",
      "metric_value": 1.0,
      "threshold_pass": 0.75,
      "threshold_fail": 0.5,
      "message": "Structural plausibility 1.00",
      "recommendations": []
    },
    {
      "name": "stability",
      "status": "pass",
      "metric_value": 1.0,
      "threshold_pass": 1.0,
      "threshold_fail": 0.5,
      "message": "Stable",
      "recommendations": []
    },
    {
      "name": "fit_ratios",
      "status": "warn",
      "metric_value": 0.5154545454545454,
      "threshold_pass": 0.5,
      "threshold_fail": 1.0,
      "message": "Fit ratio deviation 0.52 (ratios: ['0.98', '0.48', '0.51'])",
      "recommendations": [
        "Parts don't span mesh correctly: check scaling and pose alignment"
      ]
    }
  ],
  "overall_status": "fail",
  "summary": "Decomposition produced 6 parts with 83% surface coverage and 369.5 mm Hausdorff distance. 2 quality gate(s) failed. Top recommendation: High hausdorff distance: missing surface coverage",
  "top_issues": [
    "[FAIL] hausdorff: Hausdorff distance 369.5 mm",
    "[FAIL] dfm_errors: 5 DFM errors",
    "[WARN] fit_ratios: Fit ratio deviation 0.52 (ratios: ['0.98', '0.48', '0.51'])"
  ],
  "recommended_actions": [
    "High hausdorff distance: missing surface coverage",
    "Add candidate sources or lower area threshold",
    "DFM error on part_0: Part height 800.0mm exceeds sheet height 762.0mm",
    "DFM error on part_2: Part width 800.0mm exceeds sheet width 609.6mm",
    "DFM error on part_2: Cutout 0 is 0.00mm from edge (min 3.17mm)",
    "Parts don't span mesh correctly: check scaling and pose alignment"
  ],
  "comparison": {
    "previous_path": "output/diag_run1/diagnosis_report.json",
    "previous_overall_status": "fail",
    "current_overall_status": "fail",
    "deltas": {
      "coverage_fraction": 0.5976208091585218,
      "hausdorff_mm": -139.31603553608994,
      "part_count": 0,
      "structural_plausibility": 0.375,
      "overall_score": -0.18000000000000005,
      "dfm_violations_error": 5
    },
    "verdict": "improved"
  }
}